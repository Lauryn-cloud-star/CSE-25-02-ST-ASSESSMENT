doctype html
html
  head
    meta(charset="utf-8")
    meta(name="viewport", content="width=device-width, initial-scale=1")
    title Ecommerce System

    // Stylesheets
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="/css/product.css")
    link(href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap", rel="stylesheet")

  body
    .container.mt-5.pt-5
      .row.mt-5
        // Cards Column (Left)
        .col-md-4
          .card.mb-3.shadow-sm
            .card-body.text-center
              h5.card-title Total Products
              p.display-6 #{products.length}

          .card.shadow-sm
            .card-body.text-center
              h5.card-title Total Stock Value
              - let total = 0;
              - for (let p of products) total += p.price * p.quantity;
              p.display-6 UGX #{total.toLocaleString()}

        // Form Column (Right)
        .col-md-8
          h2.mb-4 Add Product
          form#productForm(action="/product", method="POST", enctype="multipart/form-data")
            .mb-3
              label.form-label(for="productName") Product Name:
              input#productName.form-control(type="text", name="productName", required)

            .mb-3
              label.form-label(for="category") Category:
              input#category.form-control(type="text", name="category", required)

            .mb-3
              label.form-label(for="price") Price (UGX):
              input#price.form-control(type="number", name="price", min="0", required)

            .mb-3
              label.form-label(for="quantity") Quantity:
              input#quantity.form-control(type="number", name="quantity", min="1", required)

            .mb-3
              label.form-label(for="color") Color:
              input#color.form-control(type="text", name="color", required)

            .mb-3
              label.form-label(for="productImage") Upload Image:
              input#productImage.form-control(type="file", name="productImage", accept="image/*", required)

            .d-flex.justify-content-between.mt-4
              button.btn.btn-success(type="submit") Save
              button.btn.btn-secondary(type="reset") Clear

      // Table Section (Full Width)
      .row.mt-5
        .col-12
          h3.mb-3 Product Table
          table.table.table-bordered.table-striped
            thead
              tr
                th ID
                th Name
                th Category
                th Price (UGX)
                th Quantity
            tbody
              each product, index in products
                tr
                  td #{index + 1}
                  td #{product.productName}
                  td #{product.category}
                  td #{product.price}
                  td #{product.quantity}

    // Scripts
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
